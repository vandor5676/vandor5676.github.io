<title>Farm Game</title>
<body>
  

<canvas id="canvas" style="height: 90vh; width: 95vw;"></canvas>
<div id="uiContainer">
  <div id="ui">
      <div id="cameraAngle"></div>
  </div>
  <div id="uiWrapper">
    <p id="money">Counter</p>
    <button id="buyCarrotsButton">Buy Carrots</button>
  </div>
</div>
</body>
<!-- vertex shader -->
<script  id="vertex-shader-3d" type="x-shader/x-vertex">
  
attribute vec4 a_position;
attribute vec3 a_normal;
attribute vec4 a_color;
attribute vec2 a_texcoord;

uniform mat4 u_matrix;

varying vec4 v_color;
varying vec2 v_texcoord;

void main() {
  vec3 pos = -(u_matrix * a_position).xyz;

  //fixed light postion

  vec3 light = vec3(100,-40,-35).xyz;
  vec3 L = normalize(light - pos);


  vec3 E = normalize(-pos);
  vec3 H = normalize(L + E);

  vec4 NN = vec4(a_normal,0);

  // Transform vertex normal into eye coordinates

  vec3 N = normalize((u_matrix*NN).xyz);

  // Compute terms in the illumination equation
  vec4 ambient = vec4(0.2,0,0.2,1);

  float Kd = max(dot(L, N), 0.0);
  vec4  diffuse = Kd*a_color;

  float Ks = pow( max(dot(N, H), 0.0), 0.1 );
  vec4  specular = Ks * a_color;

  if( dot(L, N) < 0.0 ) {
  specular = vec4(0.0, 0.0, 0.0, 1.0);
  }

  // Multiply the position by the matrix.
  gl_Position = u_matrix * a_position;

  // Pass the color to the fragment shader.
  v_color = a_color+(ambient * 0.1 + diffuse *0.2 +specular *0.2);
  v_color.a = 1.0;

  // Pass the texcoord to the fragment shader.
  v_texcoord = a_texcoord;
}
</script>
<!-- fragment shader -->
<script  id="fragment-shader-3d" type="x-shader/x-fragment">
precision mediump float;

// Passed in from the vertex shader.
varying vec4 v_color;
varying vec2 v_texcoord;

// The texture.
uniform sampler2D u_texture;

uniform vec4 u_colorMult;

void main() {
   gl_FragColor = v_color * u_colorMult * texture2D(u_texture, v_texcoord);
}
</script>
<!--  -->
<!-- second shaders for picking -->
<!--  -->
<!-- vertex shader -->
<script id="pick-vertex-shader" type="x-shader/x-vertex">
      attribute vec4 a_position;
     
      uniform mat4 u_matrix;
     
      void main() {
        // Multiply the position by the matrix.
        gl_Position = u_matrix * a_position;
      }
    </script>
<!-- fragment shader -->
<script id="pick-fragment-shader" type="x-shader/x-fragment">
      precision mediump float;
     
      uniform vec4 u_id;
     
      void main() {
         gl_FragColor = u_id;
      }
    </script>


<!--
for most samples webgl-utils only provides shader compiling/linking and
canvas resizing because why clutter the examples with code that's the same in every sample.
See https://webglfundamentals.org/webgl/lessons/webgl-boilerplate.html
and https://webglfundamentals.org/webgl/lessons/webgl-resizing-the-canvas.html
for webgl-utils, m3, m4, and webgl-lessons-ui.
-->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

<script src="../resources/webgl-utils.js"></script>
<script src="../resources/m4.js"></script>
<script src="../resources/primitives.js"></script>
<script src="../resources/helper.js"></script>
<script src="../resources/chroma.min.js"></script>
<script src="../resources\sounds\sounds.js"></script>


<script src="https://webglfundamentals.org/webgl/resources/webgl-lessons-ui.js"></script>
<script src="../customShapeBufferInfo.js"></script>
<script src="../setup.js"></script>
<script src="../gameMechanics .js"></script>
<script src="../animations.js"></script>
<script src="../MainFunctionContent/pick.js"></script>
<script src="../geometry.js"></script>
<script src="../camera.js"></script>
<script src="../main.js"></script>

<link rel="stylesheet" href="../resources/styles.css">
